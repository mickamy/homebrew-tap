# This file was generated by GoReleaser. DO NOT EDIT.
cask "sql-tap" do
  name "sql-tap"
  desc "Watch SQL traffic in real-time with a TUI"
  homepage "https://github.com/mickamy/sql-tap"
  version "0.1.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "sql-tap"
  binary "sql-tapd"

  on_macos do
    on_intel do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_darwin_amd64.tar.gz"
      sha256 "b94c1ffb8de787ccb5f973fbe542f5729c4589131b71e95330497c047664c003"
    end
    on_arm do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_darwin_arm64.tar.gz"
      sha256 "036e4fa3165ce11cdfffb5b4329a0f9cc54a1161ed2053264bb702e9d884b56d"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_linux_amd64.tar.gz"
      sha256 "d49c7b20825e9f13a205bae35ae5ea09483262246c6e3d4558553b086680434d"
    end
    on_arm do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_linux_arm64.tar.gz"
      sha256 "3aff328244fa7d79730172ff9f61558d9ce32dd0c21ce98a2623eff5fd5cfc27"
    end
  end

  postflight do
    system_command "/usr/bin/xattr",
                   args: ["-dr", "com.apple.quarantine", "#{staged_path}"]
  end

  # No zap stanza required
end

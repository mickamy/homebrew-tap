# This file was generated by GoReleaser. DO NOT EDIT.
cask "sql-tap" do
  name "sql-tap"
  desc "Watch SQL traffic in real-time with a TUI"
  homepage "https://github.com/mickamy/sql-tap"
  version "0.1.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "sql-tap"
  binary "sql-tapd"

  on_macos do
    on_intel do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_darwin_amd64.tar.gz"
      sha256 "37dbc7e7693be312d9a5cc8fbc551d7bb57b2d29c5fc4754658fbe46fb7764e3"
    end
    on_arm do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_darwin_arm64.tar.gz"
      sha256 "d0d08496eb5f487320ed70285eaf0782aa6197c31a00867b362540c8c5736fb4"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_linux_amd64.tar.gz"
      sha256 "664e657f8f3e56c246519f7c3cadda9ee5a04e53222050e7401076ac1b1c8eea"
    end
    on_arm do
      url "https://github.com/mickamy/sql-tap/releases/download/v#{version}/sql-tap_#{version}_linux_arm64.tar.gz"
      sha256 "4694e69a94fd5ae6e01d29c0f81f23f80123bfb55cdc993c46d84510a13c81c1"
    end
  end

  postflight do
    system_command "/usr/bin/xattr",
                   args: ["-dr", "com.apple.quarantine", "#{staged_path}"]
  end

  # No zap stanza required
end
